#include "patchloader.h"

std::shared_ptr<Patch> PatchLoader::loadPatch_StokDokulus_Titanfall2_DeltaBuf_v1()
{
    std::shared_ptr<Patch> patch = std::make_shared<Patch>("bin\\x64_retail\\engine.dll");
    patch->setChecksum({0xc4,0xf6,0xde,0x7f,0xfd,0x65,0x41,0xb2,0xd3,0xb5,0x17,0x2f,0x54,0x57,0x71,0xf8});
    int64_t offset = 0xC00;
    QString strPatch =
R"(
>engine.dll
000000000006F9B9:48->E8
000000000006F9BA:8D->D2
000000000006F9BB:05->D9
000000000006F9BC:10->54
000000000006F9BD:85->00
000000000006F9BE:D3->90
000000000006F9BF:0F->90
0000000000070104:48->E8
0000000000070105:8D->87
0000000000070106:05->D2
0000000000070107:C5->54
0000000000070108:7D->00
0000000000070109:D3->90
000000000007010A:0F->90
0000000000070B47:48->E9
0000000000070B48:8D->14
0000000000070B49:2D->C8
0000000000070B4A:82->54
0000000000070B4B:73->00
0000000000070B4C:D3->90
0000000000070B4D:0F->90
0000000000070ECB:48->E9
0000000000070ECC:8D->A0
0000000000070ECD:0D->C4
0000000000070ECE:FE->54
0000000000070ECF:6F->00
0000000000070ED0:D3->90
0000000000070ED1:0F->90
00000000000886F2:48->E8
00000000000886F3:8D->99
00000000000886F4:05->4C
00000000000886F5:D7->53
00000000000886F6:F7->00
00000000000886F7:D1->90
00000000000886F8:0F->90
00000000000889CA:01->04
00000000000889FE:01->04
0000000000088A50:01->04
0000000000088AEE:01->04
00000000000B20DC:48->E8
00000000000B20DD:8D->AF
00000000000B20DE:05->B2
00000000000B20DF:ED->50
00000000000B20E0:5D->00
00000000000B20E1:CF->90
00000000000B20E2:0F->90
00000000002093B5:CC->E8
00000000002093B6:CC->D6
00000000002093B7:CC->3F
00000000002093B8:CC->3B
00000000002093B9:CC->00
00000000002093BA:CC->EB
00000000002093BB:CC->29
00000000002093E3:33->EB
00000000002093E4:C0->D0
00000000002093E6:8D->8B
00000000002093E7:3D->F8
00000000002093E8:E4->48
00000000002093E9:EA->33
00000000002093EA:B9->C0
00000000002093EB:0F->90
00000000005BD35B:00->CC
00000000005BD35C:00->CC
00000000005BD35D:00->CC
00000000005BD35E:00->CC
00000000005BD35F:00->CC
00000000005BD360:00->50
00000000005BD361:00->E8
00000000005BD362:00->2A
00000000005BD366:00->48
00000000005BD367:00->8B
00000000005BD368:00->E8
00000000005BD369:00->58
00000000005BD36A:00->E9
00000000005BD36B:00->DF
00000000005BD36C:00->37
00000000005BD36D:00->AB
00000000005BD36E:00->FF
00000000005BD36F:00->CC
00000000005BD370:00->50
00000000005BD371:00->E8
00000000005BD372:00->1A
00000000005BD376:00->48
00000000005BD377:00->8B
00000000005BD378:00->C8
00000000005BD379:00->58
00000000005BD37A:00->E9
00000000005BD37B:00->53
00000000005BD37C:00->3B
00000000005BD37D:00->AB
00000000005BD37E:00->FF
00000000005BD37F:00->CC
00000000005BD380:00->CC
00000000005BD381:00->CC
00000000005BD382:00->CC
00000000005BD383:00->CC
00000000005BD384:00->CC
00000000005BD385:00->CC
00000000005BD386:00->CC
00000000005BD387:00->CC
00000000005BD388:00->CC
00000000005BD389:00->CC
00000000005BD38A:00->CC
00000000005BD38B:00->CC
00000000005BD38C:00->CC
00000000005BD38D:00->CC
00000000005BD38E:00->CC
00000000005BD38F:00->CC
00000000005BD390:00->48
00000000005BD391:00->8D
00000000005BD392:00->05
00000000005BD393:00->39
00000000005BD394:00->AB
00000000005BD395:00->7E
00000000005BD396:00->0F
00000000005BD397:00->48
00000000005BD398:00->8B
00000000005BD39A:00->48
00000000005BD39B:00->85
00000000005BD39C:00->C0
00000000005BD39D:00->74
00000000005BD39E:00->01
00000000005BD39F:00->C3
00000000005BD3A0:00->53
00000000005BD3A1:00->51
00000000005BD3A2:00->52
00000000005BD3A3:00->55
00000000005BD3A4:00->56
00000000005BD3A5:00->57
00000000005BD3A6:00->41
00000000005BD3A7:00->50
00000000005BD3A8:00->41
00000000005BD3A9:00->51
00000000005BD3AA:00->41
00000000005BD3AB:00->52
00000000005BD3AC:00->41
00000000005BD3AD:00->53
00000000005BD3AE:00->41
00000000005BD3AF:00->54
00000000005BD3B0:00->41
00000000005BD3B1:00->55
00000000005BD3B2:00->41
00000000005BD3B3:00->56
00000000005BD3B4:00->41
00000000005BD3B5:00->57
00000000005BD3B6:00->FF
00000000005BD3B7:00->15
00000000005BD3B8:00->14
00000000005BD3B9:00->10
00000000005BD3BC:00->48
00000000005BD3BD:00->8B
00000000005BD3BE:00->C8
00000000005BD3BF:00->BA
00000000005BD3C0:00->08
00000000005BD3C4:00->41
00000000005BD3C5:00->B8
00000000005BD3C9:00->04
00000000005BD3CA:00->FF
00000000005BD3CB:00->15
00000000005BD3CC:00->F0
00000000005BD3CD:00->0F
00000000005BD3D0:00->48
00000000005BD3D1:00->8D
00000000005BD3D2:00->0D
00000000005BD3D3:00->F9
00000000005BD3D4:00->AA
00000000005BD3D5:00->7E
00000000005BD3D6:00->0F
00000000005BD3D7:00->48
00000000005BD3D8:00->89
00000000005BD3D9:00->01
00000000005BD3DA:00->41
00000000005BD3DB:00->5F
00000000005BD3DC:00->41
00000000005BD3DD:00->5E
00000000005BD3DE:00->41
00000000005BD3DF:00->5D
00000000005BD3E0:00->41
00000000005BD3E1:00->5C
00000000005BD3E2:00->41
00000000005BD3E3:00->5B
00000000005BD3E4:00->41
00000000005BD3E5:00->5A
00000000005BD3E6:00->41
00000000005BD3E7:00->59
00000000005BD3E8:00->41
00000000005BD3E9:00->58
00000000005BD3EA:00->5F
00000000005BD3EB:00->5E
00000000005BD3EC:00->5D
00000000005BD3ED:00->5A
00000000005BD3EE:00->59
00000000005BD3EF:00->5B
00000000005BD3F0:00->C3
00000000005BD3F1:00->CC
)";

    bool ok = patch->addBytesFrom1337(strPatch, offset);
    return ok ? patch : nullptr;
}


